<?php

/**
 * @file
 * Simpletest case for todos module.
 *
 * Verify todos module functionality.
 */
class TodosTestCase extends DrupalWebTestCase {
  protected $priviledged_user;

  public static function getInfo() {
    return array(
      'name' => 'Todo List Content Type',
      'description' => 'Ensures that the todos content type provided functions properly.',
      'group' => 'Todos',
    );
  }

  function setUp() {
    parent::setUp('todos');
  }

  function testNodeCreation() {
    // Create and login user.
    $account = $this->drupalCreateUser(array('access content', 'create todo_list content'));
    $this->drupalLogin($account);
    // Create a new todo list.
    $edit = array(
      'title' => $this->randomName(8),
      'body[und][0][value]' => $this->randomName(16),
    );
    $this->drupalPost('node/add/todo-list', $edit, t('Save'));
    $this->assertText("Todo List ". $edit['title'] . " has been created", "Found node creation message");
  }
}
